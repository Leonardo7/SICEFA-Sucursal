let producto = [
    {
        "id": 1,
        "nombre": "Donepecilo",
        "nombreGenerico": "Donepecilo",
        "formaFarmaceutica": "Clorhidrato",
        "unidadMedida": "tableta",
        "presentacion": "Envase con 14 tabletas",
        "principalIndicacion": "Enfermedad de Alzheimer",
        "contraindicaciones": "Hipersensibilidad al fármaco o a los derivados de piperidina",
        "concentracion": "10 mg",
        "unidadesEnvase": 14,
        "precioCompra": 466.9,
        "precioVenta": 547,
        "foto": "",
        "rutaFoto": "",
        "codigoBarras": "",
        "estatus": 1
    },
    {
        "id": 2,
        "nombre": "Etambutol",
        "nombreGenerico": "Etambutol",
        "formaFarmaceutica": "Clorhidrato",
        "unidadMedida": "tableta",
        "presentacion": "Envase con 50 tabletas",
        "principalIndicacion": "Tuberculosis",
        "contraindicaciones": "Hipersensibilidad al farmaco, neuritis óptica y en menores de 12 a&ntilde;os",
        "concentracion": "400 mg",
        "unidadesEnvase": 50,
        "precioCompra": 65.71,
        "precioVenta": 210,
        "foto": "",
        "rutaFoto": "",
        "codigoBarras": "",
        "estatus": 1
    },
    {
        "id": 3,
        "nombre": "Donepecilo",
        "nombreGenerico": "Donepecilo",
        "formaFarmaceutica": "Clorhidrato",
        "unidadMedida": "tableta",
        "presentacion": "Envase con 14 tabletas",
        "principalIndicacion": "Enfermedad de Alzheimer",
        "contraindicaciones": "Hipersensibilidad al fármaco o a los derivados de piperidina",
        "concentracion": "10 mg",
        "unidadesEnvase": 14,
        "precioCompra": 466.9,
        "precioVenta": 547,
        "foto": "",
        "rutaFoto": "",
        "codigoBarras": "",
        "estatus": 1
    },
    {
        "id": 4,
        "nombre": "Efavirenz",
        "nombreGenerico": "Efavirenz",
        "formaFarmaceutica": "Clorhidrato",
        "unidadMedida": "comprimido recubierto",
        "presentacion": "Envase con 30 comprimidos recubiertos",
        "principalIndicacion": "Infección por Virus de Inmunodeficiencia Humana (VIH), en combinación con otros antirretrovirales",
        "contraindicaciones": "Hipersensibilidad al farmaco",
        "concentracion": "600 mg",
        "unidadesEnvase": 30,
        "precioCompra": 134.19,
        "precioVenta": 254,
        "foto": "",
        "rutaFoto": "",
        "codigoBarras": "",
        "estatus": 1
    },
    {
        "id": 5,
        "nombre": "Ciprofibrato",
        "nombreGenerico": "Ciprofibrato",
        "formaFarmaceutica": "Clorhidrato",
        "unidadMedida": "cápsula o tableta",
        "presentacion": "Envase con 30 cápsulas o tabletas",
        "principalIndicacion": "Hiperlipidemias tipo IIb y IV",
        "contraindicaciones": "Hipersensibilidad al fármaco. Insuficiencia hepática o renal. Embarazo y lactancia",
        "concentracion": "100 mg",
        "unidadesEnvase": 30,
        "precioCompra": 551.32,
        "precioVenta": 665,
        "foto": "",
        "rutaFoto": "",
        "codigoBarras": "",
        "estatus": 1
    },
    {
        "id": 6,
        "nombre": "Lidocaína",
        "nombreGenerico": "Lidocaína",
        "formaFarmaceutica": "Clorhidrato",
        "unidadMedida": "Gel miliitro",
        "presentacion": "Envase con 20 ml",
        "principalIndicacion": "1. Anestesia local",
        "contraindicaciones": "Hipersensibilidad conocida a anestésicos locales de tipo amida o a los otros componentes de la fórmula",
        "concentracion": "20 mg / ml",
        "unidadesEnvase": 20,
        "precioCompra": 28.86,
        "precioVenta": 306,
        "foto": "",
        "rutaFoto": "",
        "codigoBarras": "",
        "estatus": 1
    },
    {
        "id": 7,
        "nombre": "Ambroxol",
        "nombreGenerico": "Ambroxol",
        "formaFarmaceutica": "Clorhidrato",
        "unidadMedida": "solución",
        "presentacion": "Envase con 120 ml y dosificador",
        "principalIndicacion": "Bronquitis",
        "contraindicaciones": "Hipersensibilidad al fármaco",
        "concentracion": "300 mg/100 ml",
        "unidadesEnvase": 120,
        "precioCompra": 215.79,
        "precioVenta": 277,
        "foto": "",
        "rutaFoto": "",
        "codigoBarras": "",
        "estatus": 1
    },
    {
        "id": 8,
        "nombre": "Metronidazol",
        "nombreGenerico": "Metronidazol",
        "formaFarmaceutica": "óvulo o tableta vaginal",
        "unidadMedida": "Ovulo",
        "presentacion": "Envase con 10 óvulos o tabletas",
        "principalIndicacion": "1. Tricomoniasis vaginal",
        "contraindicaciones": "Hipersensibilidad al fármaco",
        "concentracion": "500 mg",
        "unidadesEnvase": 10,
        "precioCompra": 616.72,
        "precioVenta": 973,
        "foto": "",
        "rutaFoto": "",
        "codigoBarras": "",
        "estatus": 1
    },
    {
        "id": 9,
        "nombre": "Nitrofural",
        "nombreGenerico": "Nitrofural",
        "formaFarmaceutica": "Óvulo",
        "unidadMedida": "Óvulo",
        "presentacion": "Envase con 6 óvulos",
        "principalIndicacion": "1. Vaginitis bacteriana",
        "contraindicaciones": "Hipersensibilidad al fármaco",
        "concentracion": "6 mg",
        "unidadesEnvase": 6,
        "precioCompra": 117.98,
        "precioVenta": 213,
        "foto": "",
        "rutaFoto": "",
        "codigoBarras": "",
        "estatus": 1
    },
    {
        "id": 10,
        "nombre": "Ibuprofeno",
        "nombreGenerico": "Ibuprofeno",
        "formaFarmaceutica": "cápsula",
        "unidadMedida": "Miligramo",
        "presentacion": "Envase con 30 cápsulas",
        "principalIndicacion": "1. Dolor de leve a moderado",
        "contraindicaciones": "NINGUNA",
        "concentracion": "400 mg",
        "unidadesEnvase": 30,
        "precioCompra": 29.3,
        "precioVenta": 537,
        "foto": "",
        "rutaFoto": "",
        "codigoBarras": "",
        "estatus": 1
    }
];

export function inicializar()
{
    fillTableProducto();
    setDetalleProductoVisible();
}
//Insert y Update en el mismo metodo

function fillTableProducto()
{
    //Aqui vamos a ir guardando el contenido
    //tbody de la tabla de productos
    let contenido = '';

    for (let i = 0; i < producto.length; i++) {
        contenido += '<tr>' +
                '<td>' + producto[i].nombre + '</td>' +
                '<td>' + producto[i].presentacion + '</td>' +
                '<td>' + producto[i].principalIndicacion + '</td>' +
                '<td>' + producto[i].contraindicaciones + '</td>' +
                '<td>' + producto[i].concentracion + '</td>' +
                '<td>' + producto[i].unidadesEnvase + '</td>' +
                '<td>' + producto[i].precioVenta + '</td>' +
                '<td>' +
                '<a href="#" class="text-info" onclick="cm.cargarDetalleProducto(' + i + ');"><i class="fa-brands fa-wpforms"></a>' +
                '</td>' +
                '</tr>';
    }

    document.getElementById("tbodyProductos").innerHTML = contenido;
}

export function cargarDetalleProducto(posicion)
{
    //Recuperamos el producto en la posicion indicada:
    let pro = producto[posicion];

    document.getElementById("txtIdProductos").value = pro.id;
    document.getElementById("txtNombre").value = pro.nombre;
    document.getElementById("txtNomGen").value = pro.nombreGenerico;
    document.getElementById("txtForFar").value = pro.formaFarmaceutica;
    document.getElementById("txtUniMe").value = pro.unidadMedida;
    document.getElementById("txtPresentacion").value = pro.presentacion;
    document.getElementById("txtPrincIn").value = pro.principalIndicacion;
    document.getElementById("txtContraindicaciones").value = pro.contraindicaciones;
    document.getElementById("txtConcentracion").value = pro.concentracion;
    document.getElementById("txtUnidadEnv").value = pro.unidadesEnvase;
    document.getElementById("numPrecio").value = pro.precioCompra;
    document.getElementById("numPrecioVent").value = pro.precioVenta;
    document.getElementById("foto").value = pro.foto;
    document.getElementById("txtRuta").value = pro.rutaFoto;
    document.getElementById("txtCodBarras").value = pro.codigoBarras;
    document.getElementById("numEstatus").value = pro.estatus;
    
    setDetalleProductoVisible(true);

}

export function clearForm() {
    document.getElementById("txtIdProductos").value = '';
    document.getElementById("txtNombre").value = '';
    document.getElementById("txtNomGen").value = '';
    document.getElementById("txtForFar").value = '';
    document.getElementById("txtUniMe").value = '';
    document.getElementById("txtPresentacion").value = '';
    document.getElementById("txtPrincIn").value = '';
    document.getElementById("txtContraindicaciones").value = '';
    document.getElementById("txtConcentracion").value = '';
    document.getElementById("txtUnidadEnv").value = '';
    document.getElementById("numPrecio").value = '';
    document.getElementById("numPrecioVent").value = '';
    document.getElementById("foto").value = '';
    document.getElementById("txtRuta").value = '';
    document.getElementById("txtCodBarras").value = '';
    document.getElementById("numEstatus").value = '';
}


//Booleano valor
export function setDetalleProductoVisible(valor)
{
    if(valor === true)
    {
        //Ocultamos la sección del catálogo de Productos
        document.getElementById("divCatalogoProductos").style.display = "none";
        
        //Mostramos la sección de detalle Producto
        document.getElementById("divDetalleProducto").style.display = "";
    }
    else
    {
        //Ocultamos la sección del detalle Productos
        document.getElementById("divDetalleProducto").style.display = "none";
        
        //Mostramos la sección del catalogo de Productos
        document.getElementById("divCatalogoProductos").style.display = "";
    }
}
export function clearAndShowDetalleProduto(){
    clearForm();
    setDetalleProductoVisible(true);
}